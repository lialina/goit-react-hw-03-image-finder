{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","App.module.css","components/ImageGallery/ImageGallery.module.css","components/Container/Container.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/SearchError/SearchError.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","services/images-api.js","components/Container/Container.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","queryInputId","shortid","generate","handleChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","reset","toast","error","className","s","SearchForm","this","type","SearchForm_button","SearchForm_button__label","SearchForm_input","autoComplete","autoFocus","placeholder","name","onChange","id","Component","ImageGalleryItem","webformatURL","onImageClick","onClick","src","alt","ImageGalleryItem_image","SearchError","message","role","Modal","children","Overlay","ImageGallery","hiimagests","showModal","currentModalImage","page","status","toggleModal","modalImageUrl","images","find","image","largeImageURL","prevProps","prevState","prevQuery","updatedQuery","console","log","fetch","then","response","ok","json","Promise","reject","Error","fetchImages","resData","hits","catch","color","height","width","timeout","map","Container","App","handleFormSubmit","autoClose","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.71bf8049.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__e1vXr\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1N4U5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__QLWv7\",\"Modal\":\"Modal_Modal__1qgVN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__airb6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1-dGX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__1KKd7\"};","import { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport shortid from 'shortid';\nimport s from 'components/Searchbar/Searchbar.module.css';\n// import { ImSearch } from 'react-icons/im';\n\nclass Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  queryInputId = shortid.generate();\n\n  handleChange = event => {\n    this.setState({\n      query: event.currentTarget.value.toLowerCase(),\n    });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    if (this.state.query.trim() === '') {\n      toast.error('Please, enter your query');\n      return;\n    }\n\n    this.props.onSubmit(this.state.query);\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({\n      query: '',\n    });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchForm_button}>\n            <span className={s.SearchForm_button__label}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchForm_input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            name=\"query\"\n            value={this.state.query}\n            onChange={this.handleChange}\n            id={this.queryInputId}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import s from 'components/ImageGalleryItem/ImageGalleryItem.module.css';\n\nfunction ImageGalleryItem({ id, webformatURL, onImageClick }) {\n  return (\n    <li className={s.ImageGalleryItem} onClick={() => onImageClick(id)}>\n      <img src={webformatURL} alt=\"\" className={s.ImageGalleryItem_image} />\n    </li>\n  );\n}\n\nexport default ImageGalleryItem;\n","function SearchError({ message }) {\n  return (\n    <div role=\"alert\">\n      <p>{message}</p>\n    </div>\n  );\n}\n\nexport default SearchError;\n","import s from 'components/Modal/Modal.module.css';\n\nfunction Modal({ children }) {\n  return (\n    <div className={s.Overlay}>\n      <div className={s.Modal}>{children}</div>\n    </div>\n  );\n}\n\nexport default Modal;\n","import { Component } from 'react';\nimport s from 'components/ImageGallery/ImageGallery.module.css';\nimport ImageGalleryItem from 'components/ImageGalleryItem/ImageGalleryItem';\nimport SearchError from 'components/SearchError/SearchError';\nimport Modal from 'components/Modal/Modal';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\nimport { fetchImages } from 'services/images-api';\n\nclass ImageGallery extends Component {\n  state = {\n    hiimagests: [],\n    showModal: false,\n    error: null,\n    currentModalImage: null,\n    page: 1,\n    status: 'idle',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevProps.query;\n    const updatedQuery = this.props.query;\n\n    if (prevQuery !== updatedQuery) {\n      console.log('Изменился query');\n\n      this.setState({ status: 'pending' });\n\n      fetchImages(updatedQuery, this.page)\n        .then(resData => resData.hits)\n        .then(hits => this.setState({ images: hits, status: 'resolved' }))\n        .catch(error => this.setState({ error, status: 'rejected' }));\n    }\n  }\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  onImageClick = id => {\n    const modalImage = this.state.images.find(image => image.id === id);\n    const modalImageUrl = modalImage.largeImageURL;\n    this.setState({\n      currentModalImage: modalImageUrl,\n    });\n    this.toggleModal();\n  };\n\n  render() {\n    const { images, showModal, error, status, currentModalImage } = this.state;\n    // const { query } = this.props;\n\n    if (status === 'idle') {\n      return <div>Enter your request</div>;\n    }\n\n    if (status === 'pending') {\n      return (\n        <Loader\n          type=\"TailSpin\"\n          color=\"#00BFFF\"\n          height={80}\n          width={80}\n          timeout={3000}\n        />\n      );\n    }\n\n    if (status === 'rejected') {\n      return <SearchError message={error.message} />;\n      // <h2>Sorry, we could not find images with the keyword {query}</h2>\n    }\n\n    if (status === 'resolved') {\n      return (\n        <ul className={s.ImageGallery}>\n          {images.map(({ id, webformatURL }) => (\n            <ImageGalleryItem\n              onImageClick={this.onImageClick}\n              key={id}\n              id={id}\n              webformatURL={webformatURL}\n              // largeImageURL={largeImageURL}\n            />\n          ))}\n          {showModal && (\n            <Modal>\n              <img src={currentModalImage} alt=\"\" />\n            </Modal>\n          )}\n        </ul>\n      );\n    }\n  }\n}\n\nexport default ImageGallery;\n","const URL = 'https://pixabay.com/api/';\nconst API_KEY = '22041445-5ed2f4f2b816c2335628bcb5d';\n\nexport const fetchImages = function (updatedQuery, page) {\n  return fetch(\n    `${URL}?q=${updatedQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject(new Error(`No images on request ${updatedQuery}`));\n  });\n};\n","import s from './Container.module.css';\n\nfunction Container({ children }) {\n  return <div className={s.Container}>{children}</div>;\n}\n\nexport default Container;\n","import { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport s from 'App.module.css';\nimport Searchbar from 'components/Searchbar/Searchbar';\nimport ImageGallery from 'components/ImageGallery/ImageGallery';\nimport Container from 'components/Container/Container';\n\nclass App extends Component {\n  state = {\n    query: '',\n  };\n\n  handleFormSubmit = query => {\n    console.log(query);\n    this.setState({ query });\n  };\n\n  render() {\n    return (\n      <div className={s.App}>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <Container>\n          <ImageGallery query={this.state.query} />\n          <ToastContainer autoClose={3000} />\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__7j0to\",\"SearchForm\":\"Searchbar_SearchForm__1KLpo\",\"SearchForm_button\":\"Searchbar_SearchForm_button__19wI7\",\"SearchForm_button__label\":\"Searchbar_SearchForm_button__label__3EU1f\",\"SearchForm_input\":\"Searchbar_SearchForm_input__2DGzJ\"};"],"sourceRoot":""}