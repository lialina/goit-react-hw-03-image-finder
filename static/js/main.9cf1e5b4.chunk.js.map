{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","App.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","queryInputId","shortid","generate","handleChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","reset","toast","error","className","s","SearchForm","this","type","SearchForm_button","SearchForm_button__label","SearchForm_input","autocomplete","autofocus","placeholder","name","onChange","id","Component","ImageGalleryItem","webformatURL","src","alt","ImageGalleryItem_image","ImageGallery","hits","loading","prevProps","prevState","prevQuery","updatedQuery","console","log","fetch","then","res","json","resData","finally","map","App","handleFormSubmit","autoClose","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kIACAA,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,uBAAyB,mD,mBCAzGD,EAAOC,QAAU,CAAC,IAAM,mB,mBCAxBD,EAAOC,QAAU,CAAC,aAAe,qC,4MC8DlBC,E,4MAvDbC,MAAQ,CACNC,MAAO,I,EAGTC,aAAeC,IAAQC,W,EAEvBC,aAAe,SAAAC,GACb,EAAKC,SAAS,CACZN,MAAOK,EAAME,cAAcC,MAAMC,iB,EAIrCC,aAAe,SAAAL,GACbA,EAAMM,iBAE0B,KAA5B,EAAKZ,MAAMC,MAAMY,QAKrB,EAAKC,MAAMC,SAAS,EAAKf,MAAMC,OAC/B,EAAKe,SALHC,IAAMC,MAAM,6B,EAQhBF,MAAQ,WACN,EAAKT,SAAS,CACZN,MAAO,M,4CAIX,WACE,OACE,wBAAQkB,UAAWC,IAAErB,UAArB,SACE,uBAAMoB,UAAWC,IAAEC,WAAYN,SAAUO,KAAKX,aAA9C,UACE,wBAAQY,KAAK,SAASJ,UAAWC,IAAEI,kBAAnC,SACE,sBAAML,UAAWC,IAAEK,yBAAnB,sBAGF,uBACEN,UAAWC,IAAEM,iBACbH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,KAAK,QACLrB,MAAOa,KAAKtB,MAAMC,MAClB8B,SAAUT,KAAKjB,aACf2B,GAAIV,KAAKpB,wB,GAhDG+B,a,iBCGTC,MARf,YAAiD,IAArBF,EAAoB,EAApBA,GAAIG,EAAgB,EAAhBA,aAC9B,OACE,oBAAIhB,UAAWC,IAAEc,iBAAjB,SACE,qBAAKE,IAAKD,EAAcE,IAAI,GAAGlB,UAAWC,IAAEkB,0BADNN,I,iBCiD7BO,E,4MAjDbvC,MAAQ,CACNwC,KAAM,GACNC,SAAS,G,wDAGX,SAAmBC,EAAWC,GAAY,IAAD,OACjCC,EAAYF,EAAUzC,MACtB4C,EAAevB,KAAKR,MAAMb,MAE5B2C,IAAcC,IAChBC,QAAQC,IAAI,gEAEZzB,KAAKf,SAAS,CAAEkC,SAAS,IACzBO,MAAM,8BAAD,OAC2BH,EAD3B,uGAGFI,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAG,GAAO,OAAIA,EAAQZ,QACxBS,MAAK,SAAAT,GAAI,OAAI,EAAKjC,SAAS,CAAEiC,YAC7Ba,SAAQ,kBAAM,EAAK9C,SAAS,CAAEkC,SAAS,U,oBAI9C,WACE,MAA0BnB,KAAKtB,MAAvBwC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,QACNxC,EAAUqB,KAAKR,MAAfb,MAER,OACE,gCACGwC,GAAW,8CACVxC,GACA,+GAKDuC,GACC,oBAAIrB,UAAWC,IAAEmB,aAAjB,SACGC,EAAKc,KAAI,gBAAGtB,EAAH,EAAGA,GAAIG,EAAP,EAAOA,aAAP,OACR,cAAC,EAAD,CAAkBH,GAAIA,EAAIG,aAAcA,SAI9C,6B,GA5CmBF,aCyCZsB,E,4MArCbvD,MAAQ,CACNC,MAAO,I,EAGTuD,iBAAmB,SAAAvD,GACjB6C,QAAQC,IAAI9C,GACZ,EAAKM,SAAS,CAAEN,W,4CAmBlB,WACE,OACE,sBAAKkB,UAAWC,IAAEmC,IAAlB,UACE,cAAC,EAAD,CAAWxC,SAAUO,KAAKkC,mBAE1B,cAAC,EAAD,CAAcvD,MAAOqB,KAAKtB,MAAMC,QAChC,cAAC,IAAD,CAAgBwD,UAAW,a,GAhCjBxB,a,MCAlByB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,U,kBCT1BjE,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,kBAAoB,qCAAqC,yBAA2B,4CAA4C,iBAAmB,uC","file":"static/js/main.9cf1e5b4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__e1vXr\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1N4U5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__airb6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1-dGX\"};","import { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport shortid from 'shortid';\nimport s from 'components/Searchbar/Searchbar.module.css';\n// import { ImSearch } from 'react-icons/im';\n\nclass Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  queryInputId = shortid.generate();\n\n  handleChange = event => {\n    this.setState({\n      query: event.currentTarget.value.toLowerCase(),\n    });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    if (this.state.query.trim() === '') {\n      toast.error('Please, enter your query');\n      return;\n    }\n\n    this.props.onSubmit(this.state.query);\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({\n      query: '',\n    });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchForm_button}>\n            <span className={s.SearchForm_button__label}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchForm_input}\n            type=\"text\"\n            autocomplete=\"off\"\n            autofocus\n            placeholder=\"Search images and photos\"\n            name=\"query\"\n            value={this.state.query}\n            onChange={this.handleChange}\n            id={this.queryInputId}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import s from 'components/ImageGalleryItem/ImageGalleryItem.module.css';\n\nfunction ImageGalleryItem({ id, webformatURL }) {\n  return (\n    <li className={s.ImageGalleryItem} key={id}>\n      <img src={webformatURL} alt=\"\" className={s.ImageGalleryItem_image} />\n    </li>\n  );\n}\n\nexport default ImageGalleryItem;\n","import { Component } from 'react';\nimport ImageGalleryItem from 'components/ImageGalleryItem/ImageGalleryItem';\nimport s from 'components/ImageGallery/ImageGallery.module.css';\nclass ImageGallery extends Component {\n  state = {\n    hits: [],\n    loading: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevProps.query;\n    const updatedQuery = this.props.query;\n\n    if (prevQuery !== updatedQuery) {\n      console.log('Изменился query');\n\n      this.setState({ loading: true });\n      fetch(\n        `https://pixabay.com/api/?q=${updatedQuery}&page=1&key=22041445-5ed2f4f2b816c2335628bcb5d&image_type=photo&orientation=horizontal&per_page=12`,\n      )\n        .then(res => res.json())\n        .then(resData => resData.hits)\n        .then(hits => this.setState({ hits }))\n        .finally(() => this.setState({ loading: false }));\n    }\n  }\n\n  render() {\n    const { hits, loading } = this.state;\n    const { query } = this.props;\n\n    return (\n      <div>\n        {loading && <div>Loading...</div>}\n        {!query && (\n          <div>\n            There are no images here yet, but they will appear if you enter your\n            request\n          </div>\n        )}\n        {hits && (\n          <ul className={s.ImageGallery}>\n            {hits.map(({ id, webformatURL }) => (\n              <ImageGalleryItem id={id} webformatURL={webformatURL} />\n            ))}\n          </ul>\n        )}\n        <p></p>\n      </div>\n    );\n  }\n}\n\nexport default ImageGallery;\n","import { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport s from 'App.module.css';\nimport Searchbar from 'components/Searchbar/Searchbar';\nimport ImageGallery from 'components/ImageGallery/ImageGallery';\n\nclass App extends Component {\n  state = {\n    query: '',\n  };\n\n  handleFormSubmit = query => {\n    console.log(query);\n    this.setState({ query });\n  };\n  // state = {\n  //   images: null,\n  //   loading: false,\n  // }\n\n  // async componentDidMount() {\n  //   this.setState({ loading: true });\n\n  //   fetch(`https://pixabay.com/api/?q=${this.props.query}&page=1&key=22041445-5ed2f4f2b816c2335628bcb5d&image_type=photo&orientation=horizontal&per_page=12`)\n  //     .then(res => res.json())\n  //     .then(images => {\n  //       this.setState({ images })\n  //       console.log('in then');\n  //     })\n  //     .finally(() => this.setState({loading: false}));\n  // }\n\n  render() {\n    return (\n      <div className={s.App}>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        {/* {this.state.images && <div>Тут будут картинки</div>} */}\n        <ImageGallery query={this.state.query} />\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__7j0to\",\"SearchForm\":\"Searchbar_SearchForm__1KLpo\",\"SearchForm_button\":\"Searchbar_SearchForm_button__19wI7\",\"SearchForm_button__label\":\"Searchbar_SearchForm_button__label__3EU1f\",\"SearchForm_input\":\"Searchbar_SearchForm_input__2DGzJ\"};"],"sourceRoot":""}